<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="版本管理       19.1　代码仓库 19.2　入门 19.3　推送和拉取 19.4　推送示例 19.5　拉取示例 19.6　回退版本 19.7　diff 19.8　下一步 19.9　术语表 19.10　挑战练习           “我拒绝做计算机能够胜任的事情。”   ——奥林 · 施福尔（Olin Shivers）  软件开发是一个团队工作。与他人（或整个团队）">
<meta property="og:type" content="article">
<meta property="og:title" content="版本管理">
<meta property="og:url" content="http://logan_2019.github.io/Python无师自通/19_git/2019/10/index.html">
<meta property="og:site_name" content="OYJX">
<meta property="og:description" content="版本管理       19.1　代码仓库 19.2　入门 19.3　推送和拉取 19.4　推送示例 19.5　拉取示例 19.6　回退版本 19.7　diff 19.8　下一步 19.9　术语表 19.10　挑战练习           “我拒绝做计算机能够胜任的事情。”   ——奥林 · 施福尔（Olin Shivers）  软件开发是一个团队工作。与他人（或整个团队）">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://images.gitbook.cn/6d1f9d60-706f-11e9-aea6-053dc2fd6b6e">
<meta property="og:image" content="https://images.gitbook.cn/952a2a00-706f-11e9-856e-1b8faf24d23e">
<meta property="og:image" content="https://images.gitbook.cn/158f9450-7070-11e9-856e-1b8faf24d23e">
<meta property="og:updated_time" content="2019-10-13T04:12:02.175Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="版本管理">
<meta name="twitter:description" content="版本管理       19.1　代码仓库 19.2　入门 19.3　推送和拉取 19.4　推送示例 19.5　拉取示例 19.6　回退版本 19.7　diff 19.8　下一步 19.9　术语表 19.10　挑战练习           “我拒绝做计算机能够胜任的事情。”   ——奥林 · 施福尔（Olin Shivers）  软件开发是一个团队工作。与他人（或整个团队）">
<meta name="twitter:image" content="https://images.gitbook.cn/6d1f9d60-706f-11e9-aea6-053dc2fd6b6e">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>版本管理</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/Python无师自通/3_python_coding_introduction/2019/10/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/Python无师自通/18_pip/2019/10/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://logan_2019.github.io/Python无师自通/19_git/2019/10/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&text=版本管理"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&is_video=false&description=版本管理"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=版本管理&body=Check out this article: http://logan_2019.github.io/Python无师自通/19_git/2019/10/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&name=版本管理&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#191"><span class="toc-number">1.</span> <span class="toc-text">19.1　代码仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#192"><span class="toc-number">2.</span> <span class="toc-text">19.2　入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#193"><span class="toc-number">3.</span> <span class="toc-text">19.3　推送和拉取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#194"><span class="toc-number">4.</span> <span class="toc-text">19.4　推送示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#195"><span class="toc-number">5.</span> <span class="toc-text">19.5　拉取示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#196"><span class="toc-number">6.</span> <span class="toc-text">19.6　回退版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#197diff"><span class="toc-number">7.</span> <span class="toc-text">19.7　diff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#198"><span class="toc-number">8.</span> <span class="toc-text">19.8　下一步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#199"><span class="toc-number">9.</span> <span class="toc-text">19.9　术语表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1910"><span class="toc-number">10.</span> <span class="toc-text">19.10　挑战练习</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        版本管理
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">OYJX</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-10-13T04:12:02.175Z" itemprop="datePublished">2019-10-13</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <title>版本管理</title>
</head>
<body>
<article id="articleDiv"><div class="mazi-article-content dont-break-out"><p></p><div class="toc">
<ul>
<li><ul>
<li><ul>
<li><a href="#191">19.1　代码仓库</a></li>
<li><a href="#192">19.2　入门</a></li>
<li><a href="#193">19.3　推送和拉取</a></li>
<li><a href="#194">19.4　推送示例</a></li>
<li><a href="#195">19.5　拉取示例</a></li>
<li><a href="#196">19.6　回退版本</a></li>
<li><a href="#197diff">19.7　diff</a></li>
<li><a href="#198">19.8　下一步</a></li>
<li><a href="#199">19.9　术语表</a></li>
<li><a href="#1910">19.10　挑战练习</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p></p>
<blockquote>
  <p><span style="font-family: Times New Roman,楷体_GB2312">“我拒绝做计算机能够胜任的事情。”</span></p>
  <p><span style="font-family: Times New Roman,楷体_GB2312">——奥林 · 施福尔（Olin Shivers）</span></p>
</blockquote>
<p>软件开发是一个团队工作。与他人（或整个团队）一起进行某个项目的开发时，项目成员都需要对<strong>代码库</strong>（codebase）进行修改并保持同步。代码库就是组成软件的那些文件夹和文件。成员可以选择将变动通过邮件进行沟通，并自我合并不同的版本，但是这样做非常耗时耗力。</p>
<p>另外，如果有多个成员对项目的同一处进行了修改呢？如何判断该使用谁的修改？这些都是<strong>版本控制系统</strong>（version control system）致力于解决的问题。版本控制系统的设计初衷，就是帮助项目成员之间更好地进行协作。</p>
<p><strong>Git</strong> 和 <strong>SVN</strong> 是两个流行的版本控制系统。通常，版本控制系统会与一个将软件保存在云端的服务共同使用。在本章中，我们会使用 Git 将软件放在 <strong>GitHub</strong> 上管理。</p>
<h3 id="191">19.1　代码仓库</h3>
<p><strong>代码仓库</strong>（repository）是 Git 等版本控制系统创建的一种数据结构，用来记录编程项目中所有的变动。<strong>数据结构</strong>（data structure）是一种组织和保存信息的方式：字典和列表也是数据结构（本书第四部分将详细介绍数据结构）。代码仓库看上去和文件目录没有太大区别。我们将使用 Git 与记录项目变动的数据结构进行交互。</p>
<p>在处理由 Git 管理的项目时，通常会有多个代码仓库（每个项目成员一个）。项目成员在本地计算机上有一个<strong>本地代码仓库</strong>（local repository），记录自己对项目做的修改。同时还有一个托管在 Github 等类似网站的<strong>中央代码仓库</strong>（central repository），所有本地代码仓库要与其保持同步。项目成员可以将本地所做的修改更新到中央代码库，并将其他成员对中央代码库的修改同步到本地。如果你和其他程序员一起完成项目，项目配置大概如图 19-1 所示。</p>
<p><img src="https://images.gitbook.cn/6d1f9d60-706f-11e9-aea6-053dc2fd6b6e" alt="enter image description here"></p>
<p>图 19-1　代码库示意</p>
<p>我们可以从 Github 的网站（或命令行）创建一个新的中央代码仓库。之后，即可使用 Git 创建一个可与之同步的本地代码仓库。</p>
<h3 id="192">19.2　入门</h3>
<p>如果 GitHub 调整了网站布局，本节中的说明有可能会与实际不太一致。如果出现这种情况，可以在 http://theselftaughtprogrammer.io/git 网页上查看最新的操作说明。在开始使用 GitHub 之前，我们需要打开 https://github.com/join 创建一个账号。之后登录账号，并点击屏幕右上角的+号按钮，即可在 Github 上创建新的代码仓库。在下拉菜单中点击 <code>New repository</code> 按钮，将仓库命名为 <code>hangman</code>，选择 <code>Public</code> 选项，并勾选 <code>Initialize the repository with a README</code>。最后，点击 <code>Create repository</code>。</p>
<p>接下来，点击右上角的头像并选择 Your profile 查看你的主页，如图 19-2 所示。</p>
<p><img src="https://images.gitbook.cn/952a2a00-706f-11e9-856e-1b8faf24d23e" alt="enter image description here"></p>
<p>图 19-2　GitHub 主页示意</p>
<p>我们会看到新创建的代码仓库：<code>hangman</code>。点击该仓库，就会进入中央代码仓库的网站页面。在页面上，可以发现一个叫 <code>Clone Or Download</code> 的按钮。点击该按钮后，会看到一个链接。我们保存该链接。</p>
<p>在进行下一步之前，需要在本地安装 Git，安装步骤参考 https://www.git-scm.com/book/en/v2/Getting-Started-Installing-Git。</p>
<p>安装好之后，就可以在命令行中使用 Git。在命令行中输入 git 命令：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/gs9d5hf</span>
$ git

<span class="hljs-meta">&gt;&gt;</span> <span class="hljs-symbol">usage:</span> git [--version] [--help] [-C &lt;path&gt;] [-cname=value] ...
</code></pre>
<p>如果在本地看到类似上面的输出，说明已经成功安装了 Git。</p>
<p>现在，我们可以使用之前保存的链接，通过命令 <code>git clone [仓库链接]</code> 将中央代码仓库下载到本地。下载的仓库会保存到输入命令时所在的位置。复制链接，并将其传给 <code>git clone</code> 命令：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/hvmq98m</span>

$ git clone [仓库链接]

<span class="hljs-meta">&gt;&gt;</span> Cloning into <span class="hljs-string">'hangman'</span> ... <span class="hljs-symbol">remote:</span> Counting <span class="hljs-symbol">objects:</span> <span class="hljs-number">3</span>, done. <span class="hljs-symbol">remote:</span>
Total <span class="hljs-number">3</span> (delta <span class="hljs-number">0</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>), pack-reused <span class="hljs-number">0</span> Unpacking <span class="hljs-symbol">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), done. Checking connectivity... done.
</code></pre>
<p>使用 <code>ls</code> 命令验证本地代码仓库是否下载成功：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/gp4o9qv</span>

$ ls
<span class="hljs-meta">&gt;&gt;</span> hangman
</code></pre>
<p>此时应该会看到一个名为 hangman 的目录，这就是本地代码仓库。</p>
<h3 id="193">19.3　推送和拉取</h3>
<p>通过 Git 可以完成两件事情。第一件事是将本地所做的修改更新至中央代码仓库，也被称为<strong>推送</strong>（push）。第二件事是将中央代码仓库的新修改同步到本地，也被称为<strong>拉取</strong>（pull）。</p>
<p>命令 <code>git remote -v</code>（<code>-v</code> 是一个常用的旗标，用来打印详细信息）可打印本地代码仓库推送和拉取代码的目标 URL 链接。进入 hangman 目录，然后输入 <code>git remote</code> 命令：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/jscq6pj</span>

$ cd hangman
$ git remote -v

<span class="hljs-meta">&gt;&gt;</span> origin [中央仓库链接]/hangman.git (fetch)
<span class="hljs-meta">&gt;&gt;</span> origin [中央仓库链接]/hangman.git (push)
</code></pre>
<p>输出的第一行是拉取数据的目标代码仓库 URL，第二行是推送数据的目标代码仓库 URL。通常，拉取和推送的目标仓库是相同的，因此两个 URL 也是相同的。</p>
<h3 id="194">19.4　推送示例</h3>
<p>本节将对在本地克隆的 hangman 代码仓库进行修改，然后将其推送到托管在 Github 上的中央代码仓库。</p>
<p>将本书第一部分挑战练习中完成的 Python 代码文件，移动到 hangman 目录。现在，本地代码仓库中有一个文件不存在于中央代码仓库，即没有与中央代码仓库保持同步。将本地的这一修改推送到中央代码仓库后，即可解决该问题。</p>
<p>推送修改到中央代码仓库共分 3 步。首先，<strong>暂存</strong>（stage）文件，告诉 Git 希望将哪个修改过的文件推送到中央代码仓库。</p>
<p>命令 <code>git status</code> 可以显示项目之于代码仓库的当前状态，方便我们决定暂存哪些文件。该命令会把本地代码仓库与中央代码仓库中存在差异的文件打印出来。取消文件暂存后，文件以红色字体显示。暂存的文件显示为绿色。要确保位于 hangman 目录，然后输入命令 <code>git status</code>：</p>
<pre><code class="hljs python"><span class="hljs-comment"># http://tinyurl.com/jvcr59w</span>

$ git status

&gt;&gt; On branch master Your branch <span class="hljs-keyword">is</span> up-to-date <span class="hljs-keyword">with</span> <span class="hljs-string">'origin/master'</span>. Untracked files: (use <span class="hljs-string">"git add &lt;file&gt;..."</span> to include <span class="hljs-keyword">in</span> what will be committed)

hangman.py
</code></pre>
<p>现在 <code>hangman.py</code> 会以红色字体显示。使用命令 <code>git add[文件名]</code> 即可暂存文件：</p>
<pre><code class="hljs cpp"><span class="hljs-meta"># http:<span class="hljs-comment">//tinyurl.com/hncnyz9</span></span>

$ git add hangman.py
</code></pre>
<p>现在通过命令 <code>git status</code> 确认已经暂存了该文件：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/jeuug7j</span>

$ git status

<span class="hljs-meta">&gt;&gt;</span> On branch master Your branch is up-to-date with <span class="hljs-string">'origin/master'</span>. Changes to be <span class="hljs-symbol">committed:</span> (use <span class="hljs-string">"git reset HEAD &lt;file&gt;..."</span> to unstage)

new <span class="hljs-symbol">file:</span> hangman.py
</code></pre>
<p>此时 <code>hangman.py</code> 变成了绿色字体，因为已经成功暂存。</p>
<p>使用语法 <code>git reset[文件路径]</code> 即可取消暂存。取消暂存 <code>hangman.py</code> 的操作如下：</p>
<pre><code class="hljs cpp"><span class="hljs-meta"># http:<span class="hljs-comment">//tinyurl.com/hh6xxvw</span></span>

$ git reset hangman.py.
</code></pre>
<p>通过 <code>git status</code> 命令确认文件已取消暂存：</p>
<pre><code class="hljs python">&gt;&gt; On branch master Your branch <span class="hljs-keyword">is</span> up-to-date <span class="hljs-keyword">with</span> <span class="hljs-string">'origin/master'</span>. Untracked files: (use <span class="hljs-string">"git add &lt;file&gt;..."</span> to include <span class="hljs-keyword">in</span> what will be committed)

hangman.py
</code></pre>
<p>重新暂存文件：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/gowe7hp</span>

$ git add hangman.py
$ git status

<span class="hljs-meta">&gt;&gt;</span> On branch master Your branch is up-to-date with <span class="hljs-string">'origin/master'</span>. Changes to be <span class="hljs-symbol">committed:</span> (use <span class="hljs-string">"git reset HEAD &lt;file&gt;..."</span> to unstage)

new <span class="hljs-symbol">file:</span> hangman.py
</code></pre>
<p>将希望更新到中央代码仓库的文件暂存之后，就可以进行下一步：提交文件，即命令 Git 记录本地代码仓库所做的修改。可使用语法 <code>git commit -m [信息]</code> 提交文件。该命令将创建一次<strong>提交</strong>（commit）：Git 保存的一个项目代码版本。旗标 <code>-m</code> 表示要添加一段信息，帮助记忆对项目做了什么修改以及原因（这条信息类似注释）。下一步，就是将修改推送到 Github 上的中央代码仓库，在网站上可以看到提交的信息。代码如下：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/gmn92p6</span>

$ git commit -m <span class="hljs-string">"my first commit"</span>

<span class="hljs-meta">&gt;&gt;</span> <span class="hljs-number">1</span> file changed, <span class="hljs-number">1</span> insertion(+) create mode <span class="hljs-number">100644</span> hangman.py
</code></pre>
<p>提交文件后，即可进行最后一步。可通过命令 <code>git push origin master</code>，将本地的修改推送到中央代码库：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/hy98yq9</span>

$ git push origin master

<span class="hljs-meta">&gt;&gt;</span> <span class="hljs-number">1</span> file changed, <span class="hljs-number">1</span> insertion(+) create mode <span class="hljs-number">100644</span> hangman.py Corys-MacBook-<span class="hljs-symbol">Pro:</span>hangman coryalthoff$ git push origin master Counting <span class="hljs-symbol">objects:</span> <span class="hljs-number">3</span>, done. Delta
compression using up to <span class="hljs-number">4</span> threads. Compressing <span class="hljs-symbol">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">2</span>/<span class="hljs-number">2</span>), done. Writing
<span class="hljs-symbol">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), <span class="hljs-number">306</span> bytes <span class="hljs-params">| 0 bytes/s, done, Total 3 (delta 0), reused 0
(delta 0) To https://github.com/coryalthoff/hangman.git f5d44da..b0dab51 master -&gt; master
</span></code></pre>
<p>在命令行中输入用户名和密码后，Git 就会将本地修改推送至 Github。这时再前往 Github 的网站查看，就可以看到新推送的 <code>hangman.py</code> 和提交时输入的信息，如图 19-3 所示。</p>
<p><img src="https://images.gitbook.cn/158f9450-7070-11e9-856e-1b8faf24d23e" alt="enter image description here"></p>
<p>图 19-3　GitHub 网页示意</p>
<h3 id="195">19.5　拉取示例</h3>
<p>本节将拉取中央代码仓库的修改，来更新本地代码仓库。如果团队中程序员修改中央代码仓库之后，其他人都需要更新本地仓库获取修改。</p>
<p>前往中央代码仓库，点击按钮 Create new file，创建一个名为 <code>new.py</code> 的文件，然后点击按钮 Commit new file 提交该文件。这个文件目前没有在本地代码仓库中，因此本地代码仓库落后于中央代码仓库的版本。我们可以使用命令 <code>git pull origin master</code> 更新本地代码仓库：</p>
<pre><code class="hljs cpp"><span class="hljs-meta"># http:<span class="hljs-comment">//tinyurl.com/gqf2xue</span></span>

$ git pull origin master

&gt;&gt; remote: Counting objects: <span class="hljs-number">3</span>, done. remote: Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">2</span>/<span class="hljs-number">2</span>),
done.remote. Total <span class="hljs-number">3</span> (delta <span class="hljs-number">0</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>), pack-reused <span class="hljs-number">0</span> Unpacking objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), done. From https:<span class="hljs-comment">//github.com/coryalthoff/hangman b0dab51..8e032f5   </span>
master -&gt; origin/master Updating b0dab51.<span class="hljs-number">.8e032</span>f5 Fast-forward <span class="hljs-keyword">new</span>.py | <span class="hljs-number">1</span> + <span class="hljs-number">1</span> file changed, <span class="hljs-number">1</span> insertion(+) create mode <span class="hljs-number">100644</span> <span class="hljs-keyword">new</span>.py
</code></pre>
<p>Git 会把中央代码仓库的修改应用到本地。在中央代码仓库中创建的文件 <code>new.py</code> 现在会出现在本地代码仓库中。使用 <code>ls</code> 命令确认：</p>
<pre><code class="hljs ruby">$ bash $ ls

<span class="hljs-meta">&gt;&gt;</span> README.md hangman.py new.py
</code></pre>
<h3 id="196">19.6　回退版本</h3>
<p>每次提交一个文件，Git 就会保存项目代码。通过 Git，我们可以回退到任意一次代码提交，即可以做到“倒带”。例如，可以将项目回退到上周所做的某一次提交时，所有的文件和目录都与上周提交时一模一样。之后，也可以立即跳转到更近期的某一次提交。每次提交都有一个<strong>提交编号</strong>：Git 用来标记提交的唯一一组字符串序列。</p>
<p>可使用命令 <code>git log</code> 查看项目的提交历史，该命令会打印出所有做过的提交：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/h2m7ahs</span>

$ git log

<span class="hljs-meta">&gt;&gt;</span> commit <span class="hljs-number">8</span>e032f54d383e5b7fc640a3686067ca14fa8b43f
<span class="hljs-symbol">Author:</span> Cory Althoff &lt;coryedwardalthoff@gmail.com&gt;
<span class="hljs-symbol">Date:</span>   Thu Dec <span class="hljs-number">8</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">20</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-number">2016</span> -080<span class="hljs-number">0</span>

Create new.py
commit b0dab51849965144d78de21002464dc0f9297fdc
<span class="hljs-symbol">Author:</span> Cory Althoff &lt;coryalthoff@Corys-MacBook-Pro.local&gt;
<span class="hljs-symbol">Date:</span> Thu Dec <span class="hljs-number">8</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">10</span> <span class="hljs-number">2016</span> -080<span class="hljs-number">0</span>

my first commit
commit f5d44dab1418191f6c2bbfd4a2b2fcf74ef5a68f
<span class="hljs-symbol">Author:</span> Cory Althoff &lt;coryedwardalthoff@gmail.com&gt;
<span class="hljs-symbol">Date:</span> Thu Dec <span class="hljs-number">8</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">53</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> <span class="hljs-number">2016</span> -080<span class="hljs-number">0</span> Initial commit
</code></pre>
<p>上例打印出了 3 次提交。第一次提交是在创建中央代码仓库时，第二次提交是将本地增加的 <code>hangman.py</code> 文件推送到了中央代码仓库；第三次则是创建文件 <code>new.py</code>。每次提交都有一个编号。将编号传入命令 <code>git checkout</code> 即可将项目切换到对应的提交版本。在本例中，通过命令 <code>git checkout f5d44dab1418191f6c2bbfd4a2b2fcf74ef5a68f</code>，我们可以将项目直接回退到刚开始创建时的模样。</p>
<h3 id="197diff">19.7　diff</h3>
<p>命令 <code>git diff</code> 可实现本地代码仓库与中央代码仓库之间文件的差别对比。在本地创建一个名为 <code>hello_world.py</code> 的新文件，然后在其中添加代码 <code>print("Hello, World!")</code>。</p>
<p>接着暂存该文件：</p>
<pre><code class="hljs cpp"><span class="hljs-meta"># http:<span class="hljs-comment">//tinyurl.com/h6msygd</span></span>

$ git add hello_world.py
</code></pre>
<p>确保一切正常：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/zg4d8vd</span>

$ git status

<span class="hljs-meta">&gt;&gt;</span> Changes to be <span class="hljs-symbol">committed:</span> (use <span class="hljs-string">"git reset HEAD &lt;file&gt;..."</span> to unstage) new <span class="hljs-symbol">file:</span> hello_world.py
</code></pre>
<p>然后提交：</p>
<pre><code class="hljs ruby"><span class="hljs-comment"># http://tinyurl.com/ztcm8zs</span>

$ git commit -m <span class="hljs-string">"adding new file"</span>

<span class="hljs-meta">&gt;&gt;</span> <span class="hljs-number">1</span> file changed, <span class="hljs-number">1</span> insertion (+) create mode <span class="hljs-number">100644</span> hello_world.py
</code></pre>
<p>并将修改提交至中央代码仓库：</p>
<pre><code class="hljs cpp"><span class="hljs-meta"># http:<span class="hljs-comment">//tinyurl.com/zay2vct</span></span>

$ git push origin master

&gt;&gt; Counting objects: <span class="hljs-number">3</span>, done. Delta compression <span class="hljs-keyword">using</span> up to <span class="hljs-number">4</span> threads.
Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">2</span>/<span class="hljs-number">2</span>), done. Writing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), <span class="hljs-number">383</span> bytes | <span class="hljs-number">0</span>
bytes/s, done. Total <span class="hljs-number">3</span> (delta <span class="hljs-number">0</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>) To https:<span class="hljs-comment">//github.com/  </span>
coryalthoff/hangman.git <span class="hljs-number">8e032</span>f5.<span class="hljs-number">.6</span>f679b1 master -&gt; master
</code></pre>
<p>现在将代码 <code>print("Hello!")</code> 添加至本地代码仓库中 <code>hello_world.py</code> 文件的第二行。这样该文件就不同于中央代码仓库中的版本了。输入命令 <code>git diff</code> 查看差异：</p>
<pre><code class="hljs perl"><span class="hljs-comment"># http://tinyurl.com/znvj9r8</span>

$ git diff hello_world.py

&gt;&gt; diff --git a/hello_world.py b/hello_world.py <span class="hljs-keyword">index</span> b376c99..<span class="hljs-number">83</span>f9007 <span class="hljs-number">100644</span> --- a/hello_world.py +++ b/hello_world.py -<span class="hljs-number">1</span> +<span class="hljs-number">1</span>,<span class="hljs-number">2</span> <span class="hljs-keyword">print</span>(<span class="hljs-string">"Print, Hello World!"</span>)
+<span class="hljs-keyword">print</span>(<span class="hljs-string">"Hello!"</span>)
</code></pre>
<p>Git 会将 <code>print("Hello!")</code> 用绿色字体显示，因为这是刚添加的代码。加法操作符 <code>（+）</code> 说明这行是新添加的。如果是移除代码，删除的代码会以红色字体显示，前面则会是减法操作符 <code>（-）</code>。</p>
<h3 id="198">19.8　下一步</h3>
<p>本章中学习了最常用的 Git 功能。掌握这些基础后，建议大家继续学习分支和合并等更高级的功能，可前往 http://theselftaughtprogrammer.io/git 进行了解。</p>
<h3 id="199">19.9　术语表</h3>
<p><strong>代码库</strong>：组成软件的目录和文件。</p>
<p><strong>版本控制系统</strong>：旨在协助程序员与他人协作的程序。</p>
<p><strong>Git</strong>：一款流行的版本管理系统。</p>
<p><strong>SVN</strong>：一款流行的版本管理系统。</p>
<p><strong>GitHub</strong>：一个将代码保存在云端的网站。</p>
<p><strong>代码仓库</strong>：Git 等版本控制系统发明的一种数据结构，用来记录编程项目中的修改。</p>
<p><strong>数据结构</strong>：组织和保存信息的方式。列表和字典都是数据结构。</p>
<p><strong>本地代码仓库</strong>：位于本地电脑中的代码仓库。</p>
<p><strong>中央代码仓库</strong>：托管在 GitHub 等网站的代码仓库，所有的本地代码仓库均需与其保持同步。</p>
<p><strong>推送</strong>：将本地代码仓库的修改更新至中央代码仓库。</p>
<p><strong>拉取</strong>：将中央代码仓库的修改更新至本地代码仓库。</p>
<p><strong>暂存</strong>：告诉 Git 要将哪些有变动的文件推送到中央代码仓库。</p>
<p><strong>提交</strong>：命令 Git 记录再代码仓库中所做的修改。</p>
<p><strong>提交编号</strong>：Git 用来标识提交的字符串唯一序列。</p>
<h3 id="1910">19.10　挑战练习</h3>
<p>在 GitHub 上创建一个新代码仓库。将目前挑战练习中完成的 Python 文件集中到本地的一个目录，然后将其推送到新的代码仓库。</p></div></article>
</body>
</html>
  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#191"><span class="toc-number">1.</span> <span class="toc-text">19.1　代码仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#192"><span class="toc-number">2.</span> <span class="toc-text">19.2　入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#193"><span class="toc-number">3.</span> <span class="toc-text">19.3　推送和拉取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#194"><span class="toc-number">4.</span> <span class="toc-text">19.4　推送示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#195"><span class="toc-number">5.</span> <span class="toc-text">19.5　拉取示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#196"><span class="toc-number">6.</span> <span class="toc-text">19.6　回退版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#197diff"><span class="toc-number">7.</span> <span class="toc-text">19.7　diff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#198"><span class="toc-number">8.</span> <span class="toc-text">19.8　下一步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#199"><span class="toc-number">9.</span> <span class="toc-text">19.9　术语表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1910"><span class="toc-number">10.</span> <span class="toc-text">19.10　挑战练习</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://logan_2019.github.io/Python无师自通/19_git/2019/10/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&text=版本管理"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&is_video=false&description=版本管理"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=版本管理&body=Check out this article: http://logan_2019.github.io/Python无师自通/19_git/2019/10/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&title=版本管理"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://logan_2019.github.io/Python无师自通/19_git/2019/10/&name=版本管理&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Logan
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
