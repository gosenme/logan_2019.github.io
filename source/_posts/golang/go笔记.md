---
title: go笔记
---

### 错误和异常
- 错误在Go中通常是已知可能会产生某种问题而预先定义了该问题的信息，比如在打开文件时由于某种情况失败。
- 异常指严重的错误，通常都会导致程序崩溃，并且异常往往必错误更具有灾难性，一般在意料之外发生，通常使用recover()捕获异常。
- 项目代码比较复杂，且经常需要追踪Bug，建议使用`github.com/pkg/errors`，它能让开发人员很容易在error错误信息上带上堆栈信息。
- defer的三条规则
    - defer后面的函数参数会被实时解析
    - defer执行顺序为先进后出
    - defer可以改变有名参数的值
- 在函数或方法返回函数参数列表中，使用最后一个参数用来返回错误信息。
- 将错误信息对象集中定义，尽可能在包中使用一个文件专门声明错误对象。错误信息对象的名称建议使用Err开头。错误信息的名称和内容可以实行归类管理。

