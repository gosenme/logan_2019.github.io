---
title: note_1
---

### Web应用性能扩展
- 垂直扩展
    
    提升单台设备的CPU数量或者性能

- 水平扩展
    
    通过增加计算机的数量来提升性能
    
    
### Go与可维护的Web应用

    godoc会对 Go 源代码及其注释进行语法分析，
    然后以HTML、纯文本或者其他多种格式创建出相应的文档。
    godoc的使用方法非常简单，开发者只需要把文档写到源代码里面，
    godoc 就会把这些文档以及与之相关联的代码提取出来，
    生成相应的文档文件。
 
 
### Go与高性能应用
    
    高性能不仅意味着能够在短时间内处理大量请求，
    还意味着服务器能够快速地对客户端进行响应，
    并让终端用户（end user）能够快速地执行操作。

    Go 语言的一个设计目标就是提供接近于 C 语言的性能，
    尽管这个目标目前尚未达成，但 Go 语言现在的性能已经非常具有竞争力：
    Go 程序会被编译为本地码（native code），
    这一般意味着 Go 程序可以运行得比解释型语言的程序要快，
    并且就像前面说过的那样，Go 语言的 goroutine 对并发编程提供了非常好的支持，
    这使得 Go 应用可以同时处理多个请求。


### Web应用的定义
    
- 一个程序只需要满足以下两个条件，我们就可以把它看作是一个 Web 应用：

        1.这个程序必须向发送命令请求的客户端返回 HTML，而客户端则会向用户展示渲染后的 HTML；
        2.这个程序在向客户端传送数据时必需使用 HTTP 协议。

    在这个定义的基础上，如果一个程序不是向用户渲染并展示 HTML，而是向其他程序返回某种非 HTML 格式的数据，那么这个程序就是一个为其他程序提供服务的 Web服务。
    

### Http方法的作用

- GET——命令服务器返回指定的资源。
- HEAD——与GET方法的作用类似，唯一的不同在于这个方法不要求服务器返回报文的主体。这个方法通常用于在不获取报文主体的情况下，取得响应的首部。
- POST——命令服务器将报文主体中的数据传递给 URI 指定的资源，至于服务器具体会对这些数据执行什么动作则取决于服务器本身。
- PUT——命令服务器将报文主体中的数据设置为 URI 指定的资源。如果 URI 指定的位置上已经有数据存在，那么使用报文主体中的数据去代替已有的数据。如果资源尚未存在，那么在 URI 指定的位置上新创建一个资源。
- DELETE——命令服务器删除 URI 指定的资源。
- TRACE——命令服务器返回请求本身。通过这个方法，客户端可以知道介于它和服务器之间的其他服务器是如何处理请求的。
- OPTIONS——命令服务器返回它支持的 HTTP 方法列表。
- CONNECT——命令服务器与客户端建立一个网络连接。这个方法通常用于设置 SSL 隧道以开启 HTTPS 功能。
- PATCH——命令服务器使用报文主体中的数据对 URI 指定的资源进行修改。


### 幂等
- 定义：如果一个 HTTP 方法在使用相同的数据进行第二次调用的时候，不会对服务器的状态造成任何改变，那么这个方法就是幂等的（idempotent）。
- `PUT`和`DELETE`虽然不安全，但却是幂等的。

### 状态码类型
- `1xx` 情报状态码。服务器通过这些状态码来告知客户端，自己已经接收到了客户端发送的请求，并且已经对请求进行了处理
- `2xx` 成功状态码。这些状态码说明服务器已经接收到了客户端发送的请求，并且已经成功地对请求进行了处理。这类状态码的标准响应为“200 OK”
- `3xx` 重定向状态码。这些状态码表示服务器已经接收到了客户端发送的请求，并且已经成功处理了请求，但为了完成请求指定的动作，客户端还需要再做一些其他工作。这类状态码大多用于实现 URL 重定向
- `4xx` 客户端错误状态码。这类状态码说明客户端发送的请求出现了某些问题。在这一类型的状态码中，最常见的就是“404 Not Found”了，这个状态码表示服务器无法从请求指定的 URL 中找到客户端想要的资源
- `5xx` 服务器错误状态码。当服务器因为某些原因而无法正确地处理请求时，服务器就会使用这类状态码来通知客户端。在这一类状态码中，最常见的就是“500 Internal Server Error”状态码了

### HTTPS
- https其实就是http在ssl/tls上通信
- SSL（Secure Socket Layer，安全套接字层）是一种通过公钥基础设施（Public Key Infrastructure，PKI）为通信双方提供数据加密和身份验证的协议，其中通信的双方通常是客户端和服务器。
- SSL 最初由 Netscape 公司开发，之后由 IETF（Internet Engineering Task Force，互联网工程任务组）接手并将其改名为 TLS（Transport Layer Security，传输层安全协议）。
- 生成 SSL 证书和密钥的步骤并不是特别复杂。因为 SSL 证书实际上就是一个将扩展密钥用法（extended key usage）设置成了服务器身份验证操作的 X.509 证书
- 程序在生成证书时使用了crypto/x509标准库。而创建证书需要用到私钥，所以程序在使用私钥成功创建证书之后，会将私钥单独保存在一个存放服务器私钥的文件里面。
- 使用一个Certificate结构来对证书进行配置：
    ```go
    template := x509.Certificate{
        SerialNumber: serialNumber,
        Subject: subject,
        NotBefore: time.Now(),
        NotAfter: time.Now().Add(365*24*time.Hour),
        KeyUsage: x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature,
        
        // 表明此证书用于服务器身份证验证
        ExtKeyUsage: []x509.ExtKeyUsage{x509.ExtKeyUsageServerAuth},
        
        // 将证书设置只在127.0.0.1本地运行
        IPAddresses: []net.IP{net.ParseIP("127.0.0.1")},
    }
    ```
