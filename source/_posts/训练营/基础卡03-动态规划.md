---
title: 算法设计常用思想之动态规划法
---

动态规划

    是解决多阶段决策问题常用的最优化理论
    想法简单，落地困难，
    需要经由大量实践
    积累对子问题的分解和
    决策状态的定义的经验。
    比穷举法高效，
    但效率在很大程度上还是取决于问题本身
    内在机制为广域搜索
    需要满足条件：
        1. 最优化原理
        2. 子问题的"无后向性"

最优化原理：

    最优化原理其实就是问题的最优子结构的性质，
    如果一个问题的最优子结构是不论过去状态和决策如何，
    对前面的决策所形成的状态而言，
    其后的决策必须构成最优策略。也就是说，
    不管之前的决策是否是最优决策，
    都必须保证从现在开始的决策是在之前决策基础上的最优决策，
    则这样的最优子结构就符合最优化原理。

无后向性：

    所谓“无后向性”，就是当各个阶段的子问题确定以后，
    对于某个特定阶段的子问题来说，
    它之前各个阶段的子问题的决策只影响该阶段的决策，
    对该阶段之后的决策不产生影响。
    即前面的不被后面的影响。
    

步骤
    
    定义最优子问题（最优解的子结构）
    定义状态（最优解的值）
    定义决策和状态转换方程（定义计算最优解的值的方法）
    确定边界条件
    
难点
    
    状态如何描述
    状态转移方程如何定义

最长公共子序列（LCS）问题 使用Python实现
```python
def lcs(str1, str2):
    length_1 = len(str1)
    length_2 = len(str2)

    dp = [[0] * (length_2 + 1) for _ in range(length_1 + 1)]

    for i in range(1, length_1 + 1):

        for j in range(1, length_2 + 1):

            if str1[i - 1] == str2[j - 1]:
                dp[i][j] = dp[i - 1][j - 1] + 1
            else:
                dp[i][j] = max(dp[i - 1][j], dp[i][j - 1])

    return dp[length_1][length_2]
```