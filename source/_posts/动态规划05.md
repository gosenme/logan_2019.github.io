---
title: 投资问题
---

动态规划理论的提出
    
    最早是用来解决资源的有效分配问题。
    在总资源量有限，要分配给若干个项目，
    每个项目都有一个投入与收益的关系，
    最终的问题是求如何规划在不同项目上的投资，
    使得收益能够最大化。

问题分析

项目投资/回报表, 可投资600万元 

![](https://images.gitbook.cn/eb8bacc0-eba9-11e8-af4c-6f74b09e97f2)

显然，投资和收益不是线性等比例关系，否则的话，把钱全投到收益比最高的那个项目上就行了，也没啥好规划的了。这个算法也可以用穷举法，因为 N 不是固定的值，所以穷举时可以考虑用递归的方式实现，但是这一课我们考虑用动态规划法来设计这个算法。

投资 N 个项目，看起来好像是毫无关系的离散事件，但是因为投资的总钱数是固定的，这就使它们有了关系。如果我们换个角度看投资的项目，把所有的投资看作是一个求最优解的操作，把对每个项目的投资看作这个操作的一个阶段，就成功地将其转换成了多阶段决策问题。如果要考虑用动态规划解决这个多阶段决策问题，就需要首先证明每个阶段的决策能满足无后向性的要求。在这之前，先要确定决策状态的定义。

状态里肯定要有一个量是标识决策阶段（也就是当前决策的项目）的，不妨用 i 表示决策阶段。肯定还要有一个量是标识投资的钱数，如果我们定义 j 为当前项目（阶段）i 投入的钱数，那么状态 
d
[
i
,
j
]
d[i,j] 就表示项目 i 投入 j 万元获取的最大收益。现在考虑一下这个状态的定义是否满足无后向性，我们假设给第 2 个项目投入 2 百万元时获取的最大收益为 
d
[
2
,
2
]
d[2,2]，这个 
d
[
2
,
2
]
d[2,2] 包含两部分收益，一部分是第 2 个项目投 2 百万元获得的 85 万元固定收益，另一部分是给另两个项目投入剩下的（M − 2）百万元获取的收益。很显然，这（M − 2）百万元在第 1 个项目中有很多种投资方法，每种方法获取的收益都不一样，这会使得通过不同的 d[1,x] 计算出来的 
d
[
2
,
2
]
d[2,2] 各不相同，后续依赖 
d
[
2
,
2
]
d[2,2] 的决策就如同建立在浮沙之上，因此不满足无后向性要求。

单独对第 i 个项目定义状态不能满足无后向性要求，现在换个思路，我们将前 i 个项目合在一起考虑，即定义状态 
d
[
i
,
j
]
d[i,j] 为给前 i 个项目投入 j 万元时能获得的最大收益。前 i 个项目无论怎么分配这 j 万元投资，总能得到一个确定的最大收益，并且这个最大收益在到达 
d
[
i
,
j
]
d[i,j] 状态后不会因为之前的分配方式不同而变化，后续做决策时也不会变化，因此满足无后向性要求。